<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/static/redoc/favicon.png" />
    <link rel="stylesheet" href="/static/home/bulma.min.css" />
    <title>测试命令参考 - bee</title>
    <style>
      pre.code {
        word-wrap: break-word;
        white-space: pre-wrap;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="content">
        <h3>测试命令参考</h3>
        <h4>01问答对话大模型(Chat Completions)</h4>
        <h5>发起请求：</h5>
        <pre class="code"><code>curl http://localhost:80/v1/chat/completions \
-H "Content-Type: application/json" \
-H "Authorization: Bearer sk_123" \
-d '{
    "stream": true,
    "temperature": 1,
    "top_p": 1,
    "max_tokens": 16384,
    "model": "qwen2.5-7b-instruct",
    "messages": [
        {
            "role": "system",
            "content": "你是一位超级厉害的导游，精通中国各个城市信息。"
        },
        {
            "role": "user",
            "content": "北上广是指的哪里，简单回答我"
        }
    ]
}'</code></pre>
        <h5>返回结果(stream=true)：</h5>
        <pre
          class="code"
        ><code>data: {"id":"chatcmpl-vVIoBsot2UKLBst6Rnufj1xBDqfS0Ydd","object":"chat.completion.chunk","created":1762672789,"model":"qwen2.5-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"北京","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-vVIoBsot2UKLBst6Rnufj1xBDqfS0Ydd","object":"chat.completion.chunk","created":1762672789,"model":"qwen2.5-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"上海","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-vVIoBsot2UKLBst6Rnufj1xBDqfS0Ydd","object":"chat.completion.chunk","created":1762672789,"model":"qwen2.5-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"广州","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-vVIoBsot2UKLBst6Rnufj1xBDqfS0Ydd","object":"chat.completion.chunk","created":1762672789,"model":"qwen2.5-7b-instruct","choices":[{"finish_reason":"stop","index":0,"delta":{"role":null,"content":"","reasoning_content":null}}],"usage":{"prompt_tokens":18,"completion_tokens":4,"total_tokens":22,"prompt_tokens_details":{"cached_tokens":2},"completion_tokens_details":{"accepted_prediction_tokens":0,"rejected_prediction_tokens":0,"reasoning_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens_per_second":117.50651181919665,"time_per_output_token_ms":40.26925,"time_to_first_token_ms":153.183,"tokens_per_second":24.832843919367757}}

        </code></pre>
        <h5>返回结果(stream=false)：</h5>
        <pre class="code"><code>{
  "id": "chatcmpl-zmNnnJaROfrt2biyySTcGDnPazs4AvY5",
  "object": "chat.completion",
  "created": 1762672897,
  "model": "qwen2.5-7b-instruct",
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "北：北京市，上：上海市，广：广州市",
        "reasoning_content": null
      }
    }
  ],
  "usage": {
    "prompt_tokens": 18,
    "completion_tokens": 12,
    "total_tokens": 30,
    "prompt_tokens_details": {
      "cached_tokens": 17
    },
    "completion_tokens_details": {
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0,
      "reasoning_tokens": 0
    },
    "draft_tokens": 0,
    "draft_tokens_acceptance": 0,
    "prompt_tokens_per_second": 196.1852861035422,
    "time_per_output_token_ms": 33.235416666666666,
    "time_to_first_token_ms": 91.75,
    "tokens_per_second": 30.088384629850182
  }
}</code></pre>
        <h4>02向量模型(Embeddings)</h4>
        <h5>发起请求：</h5>
        <pre class="code"><code>curl http://localhost:80/v1/embeddings \
-H "Content-Type: application/json" \
-H "Authorization: Bearer sk_123" \
-d '{
  "model": "bge-m3",
  "input": [
    "Apple 是一家伟大的公司，他们的主要产品有 iPhone、iPad 和 Mac。",
    "Microsoft 是一家伟大的公司，他们的主要产品有 Windows、Xbox 和 Surface。",
    "OpenAI 是一家伟大的公司，他们的主要产品有 GPT-3、GPT-4o、GPT-5。"
  ]
}'</code></pre>
        <h5>返回结果：</h5>
        <pre class="code"><code>{
  "id": "embd-6f71f64e88d34788b22e5fe9f491a882",
  "object": "list",
  "created": 1762506287,
  "model": "bge-m3",
  "data": [
    {
      "index": 0,
      "object": "embedding",
      "embedding": [
        -0.0439453125,
        -0.0908203125,
        -0.035888671875,
        -0.0177459716796875,
        0.01837158203125,
        ...
      ]
    },
    {
      "index": 1,
      "object": "embedding",
      "embedding": [
        -0.047088623046875,
        -0.051025390625,
        -0.0213623046875,
        -0.0240478515625,
        0.0240631103515625,
        ...
      ]
    },
    {
      "index": 2,
      "object": "embedding",
      "embedding": [
        -0.004337310791015625,
        -0.0183258056640625,
        -0.0134124755859375,
        -0.01369476318359375,
        0.0262908935546875,
        ...
      ]
    }
  ],
  "usage": {
    "prompt_tokens": 89,
    "total_tokens": 89,
    "completion_tokens": 0,
    "prompt_tokens_details": null
  }
}</code></pre>
        <h4>03重排模型(Rerank)</h4>
        <h5>发起请求：</h5>
        <pre class="code"><code>curl http://localhost:80/v1/rerank \
-H "Content-Type: application/json" \
-H "Authorization: Bearer sk_123" \
-d '{
  "model": "bge-reranker-v2-m3",
  "top_n": 3,
  "query": "苹果公司的产品有哪些？",
  "documents": [
    "Apple 是一家伟大的公司，他们的主要产品有 iPhone、iPad 和 Mac。",
    "Microsoft 是一家伟大的公司，他们的主要产品有 Windows、Xbox 和 Surface。",
    "OpenAI 是一家伟大的公司，他们的主要产品有 GPT-3。"
  ]
}'</code></pre>
        <h5>返回结果：</h5>
        <pre class="code"><code>{
  "id": "rerank-ea0d3aefc89149ad8919b623c48f16e1",
  "model": "bge-reranker-v2-m3",
  "usage": {
    "total_tokens": 89
  },
  "results": [
    {
      "index": 0,
      "document": {
        "text": "Apple 是一家伟大的公司，他们的主要产品有 iPhone、iPad 和 Mac。"
      },
      "relevance_score": 0.9951171875
    },
    {
      "index": 1,
      "document": {
        "text": "Microsoft 是一家伟大的公司，他们的主要产品有 Windows、Xbox 和 Surface。"
      },
      "relevance_score": 0.0150146484375
    },
    {
      "index": 2,
      "document": {
        "text": "OpenAI 是一家伟大的公司，他们的主要产品有 GPT-3、GPT-4o、GPT-5。"
      },
      "relevance_score": 0.0007014274597167969
    }
  ]
}</code></pre>
        <h4>04多模态大模型</h4>
        <h5>发起请求：</h5>
        <pre class="code"><code>curl http://localhost:80/v1/chat/completions \
-H "Content-Type: application/json" \
-H "Authorization: Bearer sk_123" \
-d '{
  "stream": true,
  "temperature": 1,
  "top_p": 1,
  "max_tokens": 4096,
  "model": "qwen2-vl-7b-instruct",
  "messages": [
    {
      "role": "user",
      "content": [
        {
          "type": "image_url",
          "image_url": {
            "url": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAAgACMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD3misjxPrv/CN+HrzVBZT3jW8TyLDCMbtqFzuboigKSSfoAWKqbeoz30Fuv9nWSXdw77Qss/kxoMElnbDEDjHyqxyRwBlgAXKKwNN17UL/AE/Ud2jeVqthdG0ktBdK0bMQjK4lwP3ZSRGJ27gNw2kgAyaLrV9e6pqGl6ppiWV5ZpFKDDc+fFNFJuCsrFVYENHIpBUdARkGgDbooooAxPGUE114G8QW9vE808um3KRxxqWZ2MTAAAckk9qp+OtW1fSdDg/sW1nkubu6jtXuIbV7k2UbZ3T+UoJfaBwOmSOvQ9PRQBzljLYJ4bvJbe31idHc/a5HtpoLuZiFDy4ZUckKRjyxwFCxj5VUV/CcE0Oqaq9tFqKaLMkD2zaipErzfOsp/efvyMLEAZueML8gWurooAKKKKAP/9k="
          }
        },
        {"type": "text", "text": "图片上是什么"}
      ]
    }
  ]
}'</code></pre>
        <h5>返回结果(stream=true)：</h5>
        <pre
          class="code"
        ><code>data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"图片","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"中的","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"内容","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"是","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":" \"","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"1","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"2","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"3","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"\"","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":null,"index":0,"delta":{"role":null,"content":"。","reasoning_content":null}}],"usage":null}

data: {"id":"chatcmpl-oiMi1ZvFdhRCbSaIHm8bFphwFW7mVUK3","object":"chat.completion.chunk","created":1762673316,"model":"qwen2-vl-7b-instruct","choices":[{"finish_reason":"stop","index":0,"delta":{"role":null,"content":"","reasoning_content":null}}],"usage":{"prompt_tokens":18,"completion_tokens":11,"total_tokens":29,"prompt_tokens_details":{"cached_tokens":11},"completion_tokens_details":{"accepted_prediction_tokens":0,"rejected_prediction_tokens":0,"reasoning_tokens":0},"draft_tokens":0,"draft_tokens_acceptance":0.0,"prompt_tokens_per_second":150.1451403022922,"time_per_output_token_ms":28.39090909090909,"time_to_first_token_ms":119.884,"tokens_per_second":35.22254242715338}}
</code></pre>
        <h5>返回结果(stream=false)：</h5>
        <pre class="code"><code>{
  "id": "chatcmpl-j69tbXr8gegx7sZ8IxucZpSscghARAIs",
  "object": "chat.completion",
  "created": 1762673213,
  "model": "qwen2-vl-7b-instruct",
  "choices": [
    {
      "finish_reason": "stop",
      "index": 0,
      "message": {
        "role": "assistant",
        "content": "图片显示了一个数字123。",
        "reasoning_content": null
      }
    }
  ],
  "usage": {
    "prompt_tokens": 16,
    "completion_tokens": 9,
    "total_tokens": 25,
    "prompt_tokens_details": {
      "cached_tokens": 15
    },
    "completion_tokens_details": {
      "accepted_prediction_tokens": 0,
      "rejected_prediction_tokens": 0,
      "reasoning_tokens": 0
    },
    "draft_tokens": 0,
    "draft_tokens_acceptance": 0,
    "prompt_tokens_per_second": 206.16431295742706,
    "time_per_output_token_ms": 25.369444444444444,
    "time_to_first_token_ms": 77.608,
    "tokens_per_second": 39.4174969889412
  }
}</code></pre>
        <h4>05OCR文字识别</h4>
        <h5>发起请求：</h5>
        <pre class="code"><code></code></pre>
        <h5>返回结果：</h5>
        <pre class="code"><code></code></pre>
        <h4>06ASR语音识别</h4>
        <h5>发起请求：</h5>
        <pre class="code"><code></code></pre>
        <h5>返回结果：</h5>
        <pre class="code"><code></code></pre>
      </div>
      <div></div>
    </div>
  </body>
</html>
